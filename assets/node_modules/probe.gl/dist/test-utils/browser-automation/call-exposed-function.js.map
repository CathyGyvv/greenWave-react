{"version":3,"sources":["../../../src/test-utils/browser-automation/call-exposed-function.js"],"names":["callExposedFunction","exposedFunction","result","window","resultString","JSON","stringify","console","error","warn","setTimeout","bind"],"mappings":"4EACgBA,mB,CAAAA,mB,CAAT,QAASA,oBAAT,CAA6BC,eAA7B,CAA8CC,MAA9C,CAAsD,CAG3D,GAAIC,OAAOF,eAAP,CAAJ,CAA6B,CAC3B,GAAMG,cAAeC,KAAKC,SAAL,CAAeJ,MAAf,CAArB,CACAK,QAAQC,KAAR,6BAA0CP,eAA1C,KAA6DG,YAA7D,KAF2B,CAG3BD,OAAOF,eAAP,EAAwBG,YAAxB,CACD,CAJD,IAKEG,SAAQE,IAAR,WAAuBR,eAAvB,wCALF,CAMEE,OAAOO,UAAP,CAAkBV,oBAAoBW,IAApB,CAAyB,IAAzB,CAA+BV,eAA/B,CAAgDC,MAAhD,CAAlB,CAA2E,GAA3E,CAEH","file":"call-exposed-function.js","sourcesContent":["/* global window */\nexport function callExposedFunction(exposedFunction, result) {\n  // Node test driver (puppeteer) may not have had time to expose the function\n  // if the test suite is short. If not available, wait a second and try again\n  if (window[exposedFunction]) {\n    const resultString = JSON.stringify(result);\n    console.error(`Calling exposed function ${exposedFunction}(${resultString})`); // eslint-disable-line\n    window[exposedFunction](resultString);\n  } else {\n    console.warn(`window.${exposedFunction}() not yet exposed, waiting 1 second`); // eslint-disable-line\n    window.setTimeout(callExposedFunction.bind(null, exposedFunction, result), 1000);\n  }\n}\n"]}