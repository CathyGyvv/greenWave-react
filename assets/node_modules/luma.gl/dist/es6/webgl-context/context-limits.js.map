{"version":3,"sources":["../../../src/webgl-context/context-limits.js"],"names":["GL","isWebGL2","WEBGL_LIMITS","ALIASED_LINE_WIDTH_RANGE","gl1","Float32Array","ALIASED_POINT_SIZE_RANGE","MAX_TEXTURE_SIZE","gl2","MAX_CUBE_MAP_TEXTURE_SIZE","MAX_TEXTURE_IMAGE_UNITS","MAX_COMBINED_TEXTURE_IMAGE_UNITS","MAX_VERTEX_TEXTURE_IMAGE_UNITS","MAX_RENDERBUFFER_SIZE","MAX_VARYING_VECTORS","MAX_VERTEX_ATTRIBS","MAX_VERTEX_UNIFORM_VECTORS","MAX_FRAGMENT_UNIFORM_VECTORS","MAX_VIEWPORT_DIMS","Int32Array","MAX_3D_TEXTURE_SIZE","MAX_ARRAY_TEXTURE_LAYERS","MAX_CLIENT_WAIT_TIMEOUT_WEBGL","MAX_COLOR_ATTACHMENTS","MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS","MAX_COMBINED_UNIFORM_BLOCKS","MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS","MAX_DRAW_BUFFERS","MAX_ELEMENT_INDEX","MAX_ELEMENTS_INDICES","MAX_ELEMENTS_VERTICES","MAX_FRAGMENT_INPUT_COMPONENTS","MAX_FRAGMENT_UNIFORM_BLOCKS","MAX_FRAGMENT_UNIFORM_COMPONENTS","MAX_SAMPLES","MAX_SERVER_WAIT_TIMEOUT","MAX_TEXTURE_LOD_BIAS","MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS","MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS","MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS","MAX_UNIFORM_BLOCK_SIZE","MAX_UNIFORM_BUFFER_BINDINGS","MAX_VARYING_COMPONENTS","MAX_VERTEX_OUTPUT_COMPONENTS","MAX_VERTEX_UNIFORM_BLOCKS","MAX_VERTEX_UNIFORM_COMPONENTS","MIN_PROGRAM_TEXEL_OFFSET","negative","MAX_PROGRAM_TEXEL_OFFSET","UNIFORM_BUFFER_OFFSET_ALIGNMENT","getContextLimits","gl","luma","limits","webgl1MinLimits","webgl2MinLimits","isWebgl2","parameter","limit","webgl1MinLimit","webgl2MinLimit","minLimit","limitNotAvailable","getExtension","extension","value","getParameter","getGLContextInfo","info","VENDOR","RENDERER","UNMASKED_VENDOR_WEBGL","UNMASKED_RENDERER_WEBGL","VERSION","SHADING_LANGUAGE_VERSION","GL_UNMASKED_VENDOR_WEBGL","GL_UNMASKED_RENDERER_WEBGL","getGLContextInfo2","vendorMasked","rendererMasked","ext","vendorUnmasked","rendererUnmasked","vendor","renderer","version","shadingLanguageVersion","getContextInfo","glGetDebugInfo","TEST_EXPORTS"],"mappings":"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","sourcesContent":["/* eslint-disable no-inline-comments, max-len */\nimport GL from '../constants';\nimport {isWebGL2} from '../webgl-utils';\n\nconst WEBGL_LIMITS = {\n  [GL.ALIASED_LINE_WIDTH_RANGE]: {gl1: new Float32Array([1, 1])},\n  [GL.ALIASED_POINT_SIZE_RANGE]: {gl1: new Float32Array([1, 1])},\n  [GL.MAX_TEXTURE_SIZE]: {gl1: 64, gl2: 2048}, // GLint\n  [GL.MAX_CUBE_MAP_TEXTURE_SIZE]: {gl1: 16}, // GLint\n  [GL.MAX_TEXTURE_IMAGE_UNITS]: {gl1: 8}, // GLint\n  [GL.MAX_COMBINED_TEXTURE_IMAGE_UNITS]: {gl1: 8}, // GLint\n  [GL.MAX_VERTEX_TEXTURE_IMAGE_UNITS]: {gl1: 0}, // GLint\n  [GL.MAX_RENDERBUFFER_SIZE]: {gl1: 1}, // GLint\n  [GL.MAX_VARYING_VECTORS]: {gl1: 8}, // GLint\n  [GL.MAX_VERTEX_ATTRIBS]: {gl1: 8}, // GLint\n  [GL.MAX_VERTEX_UNIFORM_VECTORS]: {gl1: 128}, // GLint\n  [GL.MAX_FRAGMENT_UNIFORM_VECTORS]: {gl1: 16}, // GLint\n  [GL.MAX_VIEWPORT_DIMS]: {gl1: new Int32Array([0, 0])},\n\n  // Extensions\n  // [GL.MAX_TEXTURE_MAX_ANISOTROPY_EXT]: {gl1: 1.0, extension: 'EXT_texture_filter_anisotropic'},\n\n  // WebGL2 Limits\n  [GL.MAX_3D_TEXTURE_SIZE]: {gl1: 0, gl2: 256}, //  GLint\n  [GL.MAX_ARRAY_TEXTURE_LAYERS]: {gl1: 0, gl2: 256}, // GLint\n  [GL.MAX_CLIENT_WAIT_TIMEOUT_WEBGL]: {gl1: 0, gl2: 0}, //  GLint64\n  [GL.MAX_COLOR_ATTACHMENTS]: {gl1: 0, gl2: 4}, //  GLint\n  [GL.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS]: {gl1: 0, gl2: 0}, // GLint64\n  [GL.MAX_COMBINED_UNIFORM_BLOCKS]: {gl1: 0, gl2: 0}, //  GLint\n  [GL.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS]: {gl1: 0, gl2: 0}, // GLint64\n  [GL.MAX_DRAW_BUFFERS]: {gl1: 0, gl2: 4}, // GLint\n  [GL.MAX_ELEMENT_INDEX]: {gl1: 0, gl2: 0}, //  GLint64\n  [GL.MAX_ELEMENTS_INDICES]: {gl1: 0, gl2: 0}, // GLint\n  [GL.MAX_ELEMENTS_VERTICES]: {gl1: 0, gl2: 0}, //  GLint\n  [GL.MAX_FRAGMENT_INPUT_COMPONENTS]: {gl1: 0, gl2: 0}, //  GLint\n  [GL.MAX_FRAGMENT_UNIFORM_BLOCKS]: {gl1: 0, gl2: 0}, //  GLint\n  [GL.MAX_FRAGMENT_UNIFORM_COMPONENTS]: {gl1: 0, gl2: 0}, //  GLint\n  [GL.MAX_SAMPLES]: {gl1: 0, gl2: 0}, //  GLint\n  [GL.MAX_SERVER_WAIT_TIMEOUT]: {gl1: 0, gl2: 0}, //  GLint64\n  [GL.MAX_TEXTURE_LOD_BIAS]: {gl1: 0, gl2: 0}, // GLfloat\n  [GL.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS]: {gl1: 0, gl2: 0}, //  GLint\n  [GL.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS]: {gl1: 0, gl2: 0}, //  GLint\n  [GL.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS]: {gl1: 0, gl2: 0}, // GLint\n  [GL.MAX_UNIFORM_BLOCK_SIZE]: {gl1: 0, gl2: 0}, // GLint64\n  [GL.MAX_UNIFORM_BUFFER_BINDINGS]: {gl1: 0, gl2: 0}, //  GLint\n  [GL.MAX_VARYING_COMPONENTS]: {gl1: 0, gl2: 0}, // GLint\n  [GL.MAX_VERTEX_OUTPUT_COMPONENTS]: {gl1: 0, gl2: 0}, // GLint\n  [GL.MAX_VERTEX_UNIFORM_BLOCKS]: {gl1: 0, gl2: 0}, //  GLint\n  [GL.MAX_VERTEX_UNIFORM_COMPONENTS]: {gl1: 0, gl2: 0}, //  GLint\n  [GL.MIN_PROGRAM_TEXEL_OFFSET]: {gl1: 0, gl2: -8, negative: true}, // GLint\n  [GL.MAX_PROGRAM_TEXEL_OFFSET]: {gl1: 0, gl2: 7}, // GLint\n  [GL.UNIFORM_BUFFER_OFFSET_ALIGNMENT]: {gl1: 0, gl2: 0} // GLint\n};\n\nexport function getContextLimits(gl) {\n  gl.luma = gl.luma || {};\n\n  if (!gl.luma.limits) {\n    gl.luma.limits = {};\n    gl.luma.webgl1MinLimits = {};\n    gl.luma.webgl2MinLimits = {};\n\n    const isWebgl2 = isWebGL2(gl);\n\n    // WEBGL limits\n    for (const parameter in WEBGL_LIMITS) {\n      const limit = WEBGL_LIMITS[parameter];\n\n      const webgl1MinLimit = limit.gl1;\n      const webgl2MinLimit = 'gl2' in limit ? limit.gl2 : limit.gl1;\n      const minLimit = isWebgl2 ? webgl2MinLimit : webgl1MinLimit;\n\n      // Check if we can query for this limit\n      const limitNotAvailable =\n        ('gl2' in limit && !isWebgl2) ||\n        ('extension' in limit && !gl.getExtension(limit.extension));\n\n      const value = limitNotAvailable ? minLimit : gl.getParameter(parameter);\n      gl.luma.limits[parameter] = value;\n      gl.luma.webgl1MinLimits[parameter] = webgl1MinLimit;\n      gl.luma.webgl2MinLimits[parameter] = webgl2MinLimit;\n    }\n  }\n\n  return gl.luma.limits;\n}\n\nexport function getGLContextInfo(gl) {\n  gl.luma = gl.luma || {};\n\n  if (!gl.luma.info) {\n    const info = gl.getExtension('WEBGL_debug_renderer_info');\n    gl.luma.info = {\n      [GL.VENDOR]: gl.getParameter(GL.VENDOR),\n      [GL.RENDERER]: gl.getParameter(GL.RENDERER),\n      [GL.UNMASKED_VENDOR_WEBGL]:\n        gl.getParameter((info && info.UNMASKED_VENDOR_WEBGL) || GL.VENDOR),\n      [GL.UNMASKED_RENDERER_WEBGL]:\n        gl.getParameter((info && info.UNMASKED_RENDERER_WEBGL) || GL.RENDERER),\n      [GL.VERSION]: gl.getParameter(GL.VERSION),\n      [GL.SHADING_LANGUAGE_VERSION]: gl.getParameter(GL.SHADING_LANGUAGE_VERSION)\n    };\n  }\n\n  return gl.luma.info;\n}\n\nconst GL_UNMASKED_VENDOR_WEBGL = 0x9245; // vendor string of the graphics driver.\nconst GL_UNMASKED_RENDERER_WEBGL = 0x9246; // renderer string of the graphics driver.\n\nexport function getGLContextInfo2(gl) {\n  const vendorMasked = gl.getParameter(GL.VENDOR);\n  const rendererMasked = gl.getParameter(GL.RENDERER);\n  const ext = gl.getExtension('WEBGL_debug_renderer_info');\n  const vendorUnmasked = ext && gl.getParameter(ext.UNMASKED_VENDOR_WEBGL || GL.VENDOR);\n  const rendererUnmasked = ext && gl.getParameter(ext.UNMASKED_RENDERER_WEBGL || GL.RENDERER);\n  return {\n    vendor: vendorUnmasked || vendorMasked,\n    renderer: rendererUnmasked || rendererMasked,\n    vendorMasked,\n    rendererMasked,\n    version: gl.getParameter(GL.VERSION),\n    shadingLanguageVersion: gl.getParameter(GL.SHADING_LANGUAGE_VERSION)\n  };\n}\n\nexport function getContextInfo(gl) {\n  const limits = getContextLimits(gl);\n  const info = getGLContextInfo(gl);\n  return {\n    // basic information\n    vendor: info[GL_UNMASKED_VENDOR_WEBGL] || info[GL.VENDOR],\n    renderer: info[GL_UNMASKED_RENDERER_WEBGL] || info[GL.RENDERER],\n    version: info[GL.VERSION],\n    shadingLanguageVersion: info[GL.SHADING_LANGUAGE_VERSION],\n    // info, caps and limits\n    info,\n    limits,\n    webgl1MinLimits: gl.luma.webgl1MinLimits,\n    webgl2MinLimits: gl.luma.webgl2MinLimits\n  };\n}\n\n// DEBUG INFO\n\n/**\n * Provides strings identifying the GPU vendor and driver.\n * https://www.khronos.org/registry/webgl/extensions/WEBGL_debug_renderer_info/\n * @param {WebGLRenderingContext} gl - context\n * @return {Object} - 'vendor' and 'renderer' string fields.\n */\nexport function glGetDebugInfo(gl) {\n  return getGLContextInfo2(gl);\n  // const info = gl.getExtension('WEBGL_debug_renderer_info');\n  // // We can't determine if 'WEBGL_debug_renderer_info' is supported by\n  // // checking whether info is null here. Firefox doesn't follow the\n  // // specs by returning null for unsupported extension. Instead,\n  // // it returns an object without GL_UNMASKED_VENDOR_WEBGL and GL_UNMASKED_RENDERER_WEBGL.\n  // return {\n  //   vendor: (info && info.UNMASKED_VENDOR_WEBGL) ?\n  //     gl.getParameter(info.UNMASKED_VENDOR_WEBGL) : 'unknown',\n  //   renderer: (info && info.UNMASKED_RENDERER_WEBGL) ?\n  //     gl.getParameter(info.UNMASKED_RENDERER_WEBGL) : 'unknown'\n  // };\n}\n\nexport const TEST_EXPORTS = {\n  WEBGL_LIMITS\n};\n"],"file":"context-limits.js"}