{"version":3,"sources":["../../../src/webgl-context/set-parameters.js"],"names":["GL","isWebGL2","assert","GL_PARAMETER_DEFAULTS","BLEND","BLEND_COLOR","Float32Array","BLEND_EQUATION_RGB","FUNC_ADD","BLEND_EQUATION_ALPHA","BLEND_SRC_RGB","ONE","BLEND_DST_RGB","ZERO","BLEND_SRC_ALPHA","BLEND_DST_ALPHA","COLOR_CLEAR_VALUE","COLOR_WRITEMASK","CULL_FACE","CULL_FACE_MODE","BACK","DEPTH_TEST","DEPTH_CLEAR_VALUE","DEPTH_FUNC","LESS","DEPTH_RANGE","DEPTH_WRITEMASK","DITHER","FRAMEBUFFER_BINDING","FRONT_FACE","CCW","GENERATE_MIPMAP_HINT","DONT_CARE","LINE_WIDTH","POLYGON_OFFSET_FILL","POLYGON_OFFSET_FACTOR","POLYGON_OFFSET_UNITS","SAMPLE_COVERAGE_VALUE","SAMPLE_COVERAGE_INVERT","SCISSOR_TEST","SCISSOR_BOX","Int32Array","STENCIL_TEST","STENCIL_CLEAR_VALUE","STENCIL_WRITEMASK","STENCIL_BACK_WRITEMASK","STENCIL_FUNC","ALWAYS","STENCIL_REF","STENCIL_VALUE_MASK","STENCIL_BACK_FUNC","STENCIL_BACK_REF","STENCIL_BACK_VALUE_MASK","STENCIL_FAIL","KEEP","STENCIL_PASS_DEPTH_FAIL","STENCIL_PASS_DEPTH_PASS","STENCIL_BACK_FAIL","STENCIL_BACK_PASS_DEPTH_FAIL","STENCIL_BACK_PASS_DEPTH_PASS","VIEWPORT","PACK_ALIGNMENT","UNPACK_ALIGNMENT","UNPACK_FLIP_Y_WEBGL","UNPACK_PREMULTIPLY_ALPHA_WEBGL","UNPACK_COLORSPACE_CONVERSION_WEBGL","BROWSER_DEFAULT_WEBGL","FRAGMENT_SHADER_DERIVATIVE_HINT","READ_FRAMEBUFFER_BINDING","RASTERIZER_DISCARD","PACK_ROW_LENGTH","PACK_SKIP_PIXELS","PACK_SKIP_ROWS","UNPACK_ROW_LENGTH","UNPACK_IMAGE_HEIGHT","UNPACK_SKIP_PIXELS","UNPACK_SKIP_ROWS","UNPACK_SKIP_IMAGES","enable","gl","value","key","disable","hint","pixelStorei","drawFramebuffer","target","DRAW_FRAMEBUFFER","FRAMEBUFFER","bindFramebuffer","readFramebuffer","READ_FRAMEBUFFER","GL_PARAMETER_SETTERS","blendColor","clearColor","colorMask","cullFace","clearDepth","depthFunc","depthRange","depthMask","frontFace","lineWidth","scissor","clearStencil","stencilMaskSeparate","FRONT","viewport","COMPOSITE_GL_PARAMETER_SETTERS","blendEquation","values","blendEquationSeparate","blendFunc","blendFuncSeparate","polygonOffset","sampleCoverage","stencilFuncFront","stencilFuncSeparate","stencilFuncBack","stencilOpFront","stencilOpSeparate","stencilOpBack","isEnabled","GL_PARAMETER_GETTERS","SAMPLE_ALPHA_TO_COVERAGE","SAMPLE_COVERAGE","deepArrayEqual","x","y","isArrayX","Array","isArray","ArrayBuffer","isView","isArrayY","length","i","setParameter","getter","prevValue","Number","getParameter","setter","setParameters","compositeSetters","glConstant","cache","state","mergedValues","Object","assign","compositeSetter","getParameters","parameters","parameterKeys","keys","getDefaultParameters","resetParameters","getModifiedParameters","modified"],"mappings":"AAAA;AACA;AACA;AACA,OAAOA,EAAP,MAAe,cAAf;AACA,SAAQC,QAAR,QAAuB,gBAAvB;AACA,OAAOC,MAAP,MAAmB,iBAAnB,C,CAEA;;AAEA,OAAO,MAAMC,wBAAwB;AACnC,GAACH,GAAGI,KAAJ,GAAY,KADuB;AAEnC,GAACJ,GAAGK,WAAJ,GAAkB,IAAIC,YAAJ,CAAiB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAAjB,CAFiB;AAGnC,GAACN,GAAGO,kBAAJ,GAAyBP,GAAGQ,QAHO;AAInC,GAACR,GAAGS,oBAAJ,GAA2BT,GAAGQ,QAJK;AAKnC,GAACR,GAAGU,aAAJ,GAAoBV,GAAGW,GALY;AAMnC,GAACX,GAAGY,aAAJ,GAAoBZ,GAAGa,IANY;AAOnC,GAACb,GAAGc,eAAJ,GAAsBd,GAAGW,GAPU;AAQnC,GAACX,GAAGe,eAAJ,GAAsBf,GAAGa,IARU;AASnC,GAACb,GAAGgB,iBAAJ,GAAwB,IAAIV,YAAJ,CAAiB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAAjB,CATW;AASqB;AACxD,GAACN,GAAGiB,eAAJ,GAAsB,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,CAVa;AAWnC,GAACjB,GAAGkB,SAAJ,GAAgB,KAXmB;AAYnC,GAAClB,GAAGmB,cAAJ,GAAqBnB,GAAGoB,IAZW;AAanC,GAACpB,GAAGqB,UAAJ,GAAiB,KAbkB;AAcnC,GAACrB,GAAGsB,iBAAJ,GAAwB,CAdW;AAenC,GAACtB,GAAGuB,UAAJ,GAAiBvB,GAAGwB,IAfe;AAgBnC,GAACxB,GAAGyB,WAAJ,GAAkB,IAAInB,YAAJ,CAAiB,CAAC,CAAD,EAAI,CAAJ,CAAjB,CAhBiB;AAgBS;AAC5C,GAACN,GAAG0B,eAAJ,GAAsB,IAjBa;AAkBnC,GAAC1B,GAAG2B,MAAJ,GAAa,IAlBsB;AAmBnC;AACA,GAAC3B,GAAG4B,mBAAJ,GAA0B,IApBS;AAqBnC,GAAC5B,GAAG6B,UAAJ,GAAiB7B,GAAG8B,GArBe;AAsBnC,GAAC9B,GAAG+B,oBAAJ,GAA2B/B,GAAGgC,SAtBK;AAuBnC,GAAChC,GAAGiC,UAAJ,GAAiB,CAvBkB;AAwBnC,GAACjC,GAAGkC,mBAAJ,GAA0B,KAxBS;AAyBnC,GAAClC,GAAGmC,qBAAJ,GAA4B,CAzBO;AA0BnC,GAACnC,GAAGoC,oBAAJ,GAA2B,CA1BQ;AA2BnC,GAACpC,GAAGqC,qBAAJ,GAA4B,GA3BO;AA4BnC,GAACrC,GAAGsC,sBAAJ,GAA6B,KA5BM;AA6BnC,GAACtC,GAAGuC,YAAJ,GAAmB,KA7BgB;AA8BnC;AACA,GAACvC,GAAGwC,WAAJ,GAAkB,IAAIC,UAAJ,CAAe,CAAC,CAAD,EAAI,CAAJ,EAAO,IAAP,EAAa,IAAb,CAAf,CA/BiB;AAgCnC,GAACzC,GAAG0C,YAAJ,GAAmB,KAhCgB;AAiCnC,GAAC1C,GAAG2C,mBAAJ,GAA0B,CAjCS;AAkCnC,GAAC3C,GAAG4C,iBAAJ,GAAwB,UAlCW;AAmCnC,GAAC5C,GAAG6C,sBAAJ,GAA6B,UAnCM;AAoCnC,GAAC7C,GAAG8C,YAAJ,GAAmB9C,GAAG+C,MApCa;AAqCnC,GAAC/C,GAAGgD,WAAJ,GAAkB,CArCiB;AAsCnC,GAAChD,GAAGiD,kBAAJ,GAAyB,UAtCU;AAuCnC,GAACjD,GAAGkD,iBAAJ,GAAwBlD,GAAG+C,MAvCQ;AAwCnC,GAAC/C,GAAGmD,gBAAJ,GAAuB,CAxCY;AAyCnC,GAACnD,GAAGoD,uBAAJ,GAA8B,UAzCK;AA0CnC,GAACpD,GAAGqD,YAAJ,GAAmBrD,GAAGsD,IA1Ca;AA2CnC,GAACtD,GAAGuD,uBAAJ,GAA8BvD,GAAGsD,IA3CE;AA4CnC,GAACtD,GAAGwD,uBAAJ,GAA8BxD,GAAGsD,IA5CE;AA6CnC,GAACtD,GAAGyD,iBAAJ,GAAwBzD,GAAGsD,IA7CQ;AA8CnC,GAACtD,GAAG0D,4BAAJ,GAAmC1D,GAAGsD,IA9CH;AA+CnC,GAACtD,GAAG2D,4BAAJ,GAAmC3D,GAAGsD,IA/CH;AAgDnC;AACA,GAACtD,GAAG4D,QAAJ,GAAe,IAAInB,UAAJ,CAAe,CAAC,CAAD,EAAI,CAAJ,EAAO,IAAP,EAAa,IAAb,CAAf,CAjDoB;AAkDnC;AACA,GAACzC,GAAG6D,cAAJ,GAAqB,CAnDc;AAoDnC,GAAC7D,GAAG8D,gBAAJ,GAAuB,CApDY;AAqDnC,GAAC9D,GAAG+D,mBAAJ,GAA0B,KArDS;AAsDnC,GAAC/D,GAAGgE,8BAAJ,GAAqC,KAtDF;AAuDnC,GAAChE,GAAGiE,kCAAJ,GAAyCjE,GAAGkE,qBAvDT;AAyDnC;AACA;AACA,GAAClE,GAAGmE,+BAAJ,GAAsCnE,GAAGgC,SA3DN;AA4DnC,GAAChC,GAAGoE,wBAAJ,GAA+B,IA5DI;AA6DnC,GAACpE,GAAGqE,kBAAJ,GAAyB,KA7DU;AA8DnC,GAACrE,GAAGsE,eAAJ,GAAsB,CA9Da;AA+DnC,GAACtE,GAAGuE,gBAAJ,GAAuB,CA/DY;AAgEnC,GAACvE,GAAGwE,cAAJ,GAAqB,CAhEc;AAiEnC,GAACxE,GAAGyE,iBAAJ,GAAwB,CAjEW;AAkEnC,GAACzE,GAAG0E,mBAAJ,GAA0B,CAlES;AAmEnC,GAAC1E,GAAG2E,kBAAJ,GAAyB,CAnEU;AAoEnC,GAAC3E,GAAG4E,gBAAJ,GAAuB,CApEY;AAqEnC,GAAC5E,GAAG6E,kBAAJ,GAAyB;AArEU,CAA9B,C,CAwEP;;AAEA,MAAMC,SAAS,CAACC,EAAD,EAAKC,KAAL,EAAYC,GAAZ,KAAoBD,QAAQD,GAAGD,MAAH,CAAUG,GAAV,CAAR,GAAyBF,GAAGG,OAAH,CAAWD,GAAX,CAA5D;;AACA,MAAME,OAAO,CAACJ,EAAD,EAAKC,KAAL,EAAYC,GAAZ,KAAoBF,GAAGI,IAAH,CAAQF,GAAR,EAAaD,KAAb,CAAjC;;AACA,MAAMI,cAAc,CAACL,EAAD,EAAKC,KAAL,EAAYC,GAAZ,KAAoBF,GAAGK,WAAH,CAAeH,GAAf,EAAoBD,KAApB,CAAxC;;AAEA,MAAMK,kBAAkB,CAACN,EAAD,EAAKC,KAAL,KAAe;AACrC,QAAMM,SAASrF,SAAS8E,EAAT,IAAe/E,GAAGuF,gBAAlB,GAAqCvF,GAAGwF,WAAvD;AACA,SAAOT,GAAGU,eAAH,CAAmBH,MAAnB,EAA2BN,KAA3B,CAAP;AACD,CAHD;;AAIA,MAAMU,kBAAkB,CAACX,EAAD,EAAKC,KAAL,KAAe;AACrC,SAAOD,GAAGU,eAAH,CAAmBzF,GAAG2F,gBAAtB,EAAwCX,KAAxC,CAAP;AACD,CAFD,C,CAIA;AACA;AACA;;;AACA,OAAO,MAAMY,uBAAuB;AAClC,GAAC5F,GAAGI,KAAJ,GAAY0E,MADsB;AAElC,GAAC9E,GAAGK,WAAJ,GAAkB,CAAC0E,EAAD,EAAKC,KAAL,KAAeD,GAAGc,UAAH,CAAc,GAAGb,KAAjB,CAFC;AAGlC,GAAChF,GAAGO,kBAAJ,GAAyB,eAHS;AAIlC,GAACP,GAAGS,oBAAJ,GAA2B,eAJO;AAKlC,GAACT,GAAGU,aAAJ,GAAoB,WALc;AAMlC,GAACV,GAAGY,aAAJ,GAAoB,WANc;AAOlC,GAACZ,GAAGc,eAAJ,GAAsB,WAPY;AAQlC,GAACd,GAAGe,eAAJ,GAAsB,WARY;AASlC,GAACf,GAAGgB,iBAAJ,GAAwB,CAAC+D,EAAD,EAAKC,KAAL,KAAeD,GAAGe,UAAH,CAAc,GAAGd,KAAjB,CATL;AAUlC,GAAChF,GAAGiB,eAAJ,GAAsB,CAAC8D,EAAD,EAAKC,KAAL,KAAeD,GAAGgB,SAAH,CAAa,GAAGf,KAAhB,CAVH;AAWlC,GAAChF,GAAGkB,SAAJ,GAAgB4D,MAXkB;AAYlC,GAAC9E,GAAGmB,cAAJ,GAAqB,CAAC4D,EAAD,EAAKC,KAAL,KAAeD,GAAGiB,QAAH,CAAYhB,KAAZ,CAZF;AAalC,GAAChF,GAAGqB,UAAJ,GAAiByD,MAbiB;AAclC,GAAC9E,GAAGsB,iBAAJ,GAAwB,CAACyD,EAAD,EAAKC,KAAL,KAAeD,GAAGkB,UAAH,CAAcjB,KAAd,CAdL;AAelC,GAAChF,GAAGuB,UAAJ,GAAiB,CAACwD,EAAD,EAAKC,KAAL,KAAeD,GAAGmB,SAAH,CAAalB,KAAb,CAfE;AAgBlC,GAAChF,GAAGyB,WAAJ,GAAkB,CAACsD,EAAD,EAAKC,KAAL,KAAeD,GAAGoB,UAAH,CAAc,GAAGnB,KAAjB,CAhBC;AAiBlC,GAAChF,GAAG0B,eAAJ,GAAsB,CAACqD,EAAD,EAAKC,KAAL,KAAeD,GAAGqB,SAAH,CAAapB,KAAb,CAjBH;AAkBlC,GAAChF,GAAG2B,MAAJ,GAAamD,MAlBqB;AAmBlC,GAAC9E,GAAGmE,+BAAJ,GAAsCgB,IAnBJ;AAoBlC;AACA,GAACnF,GAAG4B,mBAAJ,GAA0ByD,eArBQ;AAsBlC,GAACrF,GAAG6B,UAAJ,GAAiB,CAACkD,EAAD,EAAKC,KAAL,KAAeD,GAAGsB,SAAH,CAAarB,KAAb,CAtBE;AAuBlC,GAAChF,GAAG+B,oBAAJ,GAA2BoD,IAvBO;AAwBlC,GAACnF,GAAGiC,UAAJ,GAAiB,CAAC8C,EAAD,EAAKC,KAAL,KAAeD,GAAGuB,SAAH,CAAatB,KAAb,CAxBE;AAyBlC,GAAChF,GAAGkC,mBAAJ,GAA0B4C,MAzBQ;AA0BlC,GAAC9E,GAAGmC,qBAAJ,GAA4B,eA1BM;AA2BlC,GAACnC,GAAGoC,oBAAJ,GAA2B,eA3BO;AA4BlC,GAACpC,GAAGqE,kBAAJ,GAAyBS,MA5BS;AA6BlC,GAAC9E,GAAGqC,qBAAJ,GAA4B,gBA7BM;AA8BlC,GAACrC,GAAGsC,sBAAJ,GAA6B,gBA9BK;AA+BlC,GAACtC,GAAGuC,YAAJ,GAAmBuC,MA/Be;AAgClC,GAAC9E,GAAGwC,WAAJ,GAAkB,CAACuC,EAAD,EAAKC,KAAL,KAAeD,GAAGwB,OAAH,CAAW,GAAGvB,KAAd,CAhCC;AAiClC,GAAChF,GAAG0C,YAAJ,GAAmBoC,MAjCe;AAkClC,GAAC9E,GAAG2C,mBAAJ,GAA0B,CAACoC,EAAD,EAAKC,KAAL,KAAeD,GAAGyB,YAAH,CAAgBxB,KAAhB,CAlCP;AAmClC,GAAChF,GAAG4C,iBAAJ,GAAwB,CAACmC,EAAD,EAAKC,KAAL,KAAeD,GAAG0B,mBAAH,CAAuBzG,GAAG0G,KAA1B,EAAiC1B,KAAjC,CAnCL;AAoClC,GAAChF,GAAG6C,sBAAJ,GAA6B,CAACkC,EAAD,EAAKC,KAAL,KAAeD,GAAG0B,mBAAH,CAAuBzG,GAAGoB,IAA1B,EAAgC4D,KAAhC,CApCV;AAqClC,GAAChF,GAAG8C,YAAJ,GAAmB,kBArCe;AAsClC,GAAC9C,GAAGgD,WAAJ,GAAkB,kBAtCgB;AAuClC,GAAChD,GAAGiD,kBAAJ,GAAyB,kBAvCS;AAwClC,GAACjD,GAAGkD,iBAAJ,GAAwB,iBAxCU;AAyClC,GAAClD,GAAGmD,gBAAJ,GAAuB,iBAzCW;AA0ClC,GAACnD,GAAGoD,uBAAJ,GAA8B,iBA1CI;AA2ClC,GAACpD,GAAGqD,YAAJ,GAAmB,gBA3Ce;AA4ClC,GAACrD,GAAGuD,uBAAJ,GAA8B,gBA5CI;AA6ClC,GAACvD,GAAGwD,uBAAJ,GAA8B,gBA7CI;AA8ClC,GAACxD,GAAGyD,iBAAJ,GAAwB,eA9CU;AA+ClC,GAACzD,GAAG0D,4BAAJ,GAAmC,eA/CD;AAgDlC,GAAC1D,GAAG2D,4BAAJ,GAAmC,eAhDD;AAiDlC,GAAC3D,GAAG4D,QAAJ,GAAe,CAACmB,EAAD,EAAKC,KAAL,KAAeD,GAAG4B,QAAH,CAAY,GAAG3B,KAAf,CAjDI;AAmDlC;AACA,GAAChF,GAAG6D,cAAJ,GAAqBuB,WApDa;AAqDlC,GAACpF,GAAG8D,gBAAJ,GAAuBsB,WArDW;AAsDlC,GAACpF,GAAG+D,mBAAJ,GAA0BqB,WAtDQ;AAuDlC,GAACpF,GAAGgE,8BAAJ,GAAqCoB,WAvDH;AAwDlC,GAACpF,GAAGiE,kCAAJ,GAAyCmB,WAxDP;AA0DlC;AACA;AACA,GAACpF,GAAGsE,eAAJ,GAAsBc,WA5DY;AA6DlC,GAACpF,GAAGuE,gBAAJ,GAAuBa,WA7DW;AA8DlC,GAACpF,GAAGwE,cAAJ,GAAqBY,WA9Da;AA+DlC,GAACpF,GAAGoE,wBAAJ,GAA+BsB,eA/DG;AAgElC,GAAC1F,GAAGyE,iBAAJ,GAAwBW,WAhEU;AAiElC,GAACpF,GAAG0E,mBAAJ,GAA0BU,WAjEQ;AAkElC,GAACpF,GAAG2E,kBAAJ,GAAyBS,WAlES;AAmElC,GAACpF,GAAG4E,gBAAJ,GAAuBQ,WAnEW;AAoElC,GAACpF,GAAG6E,kBAAJ,GAAyBO;AApES,CAA7B,C,CAuEP;;AACA,MAAMwB,iCAAiC;AACrCC,iBAAe,CAAC9B,EAAD,EAAK+B,MAAL,KAAgB/B,GAAGgC,qBAAH,CAC7BD,OAAO9G,GAAGO,kBAAV,CAD6B,EAE7BuG,OAAO9G,GAAGS,oBAAV,CAF6B,CADM;AAKrCuG,aAAW,CAACjC,EAAD,EAAK+B,MAAL,KAAgB/B,GAAGkC,iBAAH,CACzBH,OAAO9G,GAAGU,aAAV,CADyB,EAEzBoG,OAAO9G,GAAGY,aAAV,CAFyB,EAGzBkG,OAAO9G,GAAGc,eAAV,CAHyB,EAIzBgG,OAAO9G,GAAGe,eAAV,CAJyB,CALU;AAWrCmG,iBAAe,CAACnC,EAAD,EAAK+B,MAAL,KAAgB/B,GAAGmC,aAAH,CAC7BJ,OAAO9G,GAAGmC,qBAAV,CAD6B,EAE7B2E,OAAO9G,GAAGoC,oBAAV,CAF6B,CAXM;AAerC+E,kBAAgB,CAACpC,EAAD,EAAK+B,MAAL,KAAgB/B,GAAGoC,cAAH,CAC9BL,OAAO9G,GAAGqC,qBAAV,CAD8B,EAE9ByE,OAAO9G,GAAGsC,sBAAV,CAF8B,CAfK;AAmBrC8E,oBAAkB,CAACrC,EAAD,EAAK+B,MAAL,KAAgB/B,GAAGsC,mBAAH,CAAuBrH,GAAG0G,KAA1B,EAChCI,OAAO9G,GAAG8C,YAAV,CADgC,EAEhCgE,OAAO9G,GAAGgD,WAAV,CAFgC,EAGhC8D,OAAO9G,GAAGiD,kBAAV,CAHgC,CAnBG;AAwBrCqE,mBAAiB,CAACvC,EAAD,EAAK+B,MAAL,KAAgB/B,GAAGsC,mBAAH,CAAuBrH,GAAGoB,IAA1B,EAC/B0F,OAAO9G,GAAGkD,iBAAV,CAD+B,EAE/B4D,OAAO9G,GAAGmD,gBAAV,CAF+B,EAG/B2D,OAAO9G,GAAGoD,uBAAV,CAH+B,CAxBI;AA6BrCmE,kBAAgB,CAACxC,EAAD,EAAK+B,MAAL,KAAgB/B,GAAGyC,iBAAH,CAAqBxH,GAAG0G,KAAxB,EAC9BI,OAAO9G,GAAGqD,YAAV,CAD8B,EAE9ByD,OAAO9G,GAAGuD,uBAAV,CAF8B,EAG9BuD,OAAO9G,GAAGwD,uBAAV,CAH8B,CA7BK;AAkCrCiE,iBAAe,CAAC1C,EAAD,EAAK+B,MAAL,KAAgB/B,GAAGyC,iBAAH,CAAqBxH,GAAGoB,IAAxB,EAC7B0F,OAAO9G,GAAGyD,iBAAV,CAD6B,EAE7BqD,OAAO9G,GAAG0D,4BAAV,CAF6B,EAG7BoD,OAAO9G,GAAG2D,4BAAV,CAH6B;AAlCM,CAAvC,C,CAyCA;;AAEA,MAAM+D,YAAY,CAAC3C,EAAD,EAAKE,GAAL,KAAaF,GAAG2C,SAAH,CAAazC,GAAb,CAA/B,C,CAEA;;;AACA,OAAO,MAAM0C,uBAAuB;AAClC,GAAC3H,GAAGI,KAAJ,GAAYsH,SADsB;AAElC,GAAC1H,GAAGkB,SAAJ,GAAgBwG,SAFkB;AAGlC,GAAC1H,GAAGqB,UAAJ,GAAiBqG,SAHiB;AAIlC,GAAC1H,GAAG2B,MAAJ,GAAa+F,SAJqB;AAKlC,GAAC1H,GAAGkC,mBAAJ,GAA0BwF,SALQ;AAMlC,GAAC1H,GAAG4H,wBAAJ,GAA+BF,SANG;AAOlC,GAAC1H,GAAG6H,eAAJ,GAAsBH,SAPY;AAQlC,GAAC1H,GAAGuC,YAAJ,GAAmBmF,SARe;AASlC,GAAC1H,GAAG0C,YAAJ,GAAmBgF,SATe;AAWlC;AACA,GAAC1H,GAAGqE,kBAAJ,GAAyBqD;AAZS,CAA7B,C,CAeP;;AAEA,MAAMI,iBAAiB,CAACC,CAAD,EAAIC,CAAJ,KAAU;AAC/B,MAAID,MAAMC,CAAV,EAAa;AACX,WAAO,IAAP;AACD;;AACD,QAAMC,WAAWC,MAAMC,OAAN,CAAcJ,CAAd,KAAoBK,YAAYC,MAAZ,CAAmBN,CAAnB,CAArC;AACA,QAAMO,WAAWJ,MAAMC,OAAN,CAAcH,CAAd,KAAoBI,YAAYC,MAAZ,CAAmBL,CAAnB,CAArC;;AACA,MAAIC,YAAYK,QAAZ,IAAwBP,EAAEQ,MAAF,KAAaP,EAAEO,MAA3C,EAAmD;AACjD,SAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIT,EAAEQ,MAAtB,EAA8B,EAAEC,CAAhC,EAAmC;AACjC,UAAIT,EAAES,CAAF,MAASR,EAAEQ,CAAF,CAAb,EAAmB;AACjB,eAAO,KAAP;AACD;AACF;;AACD,WAAO,IAAP;AACD;;AACD,SAAO,KAAP;AACD,CAfD,C,CAiBA;AAEA;AACA;AACA;;;AACA,OAAO,SAASC,YAAT,CAAsB1D,EAAtB,EAA0BE,GAA1B,EAA+BD,KAA/B,EAAsC;AAC3C,QAAM0D,SAASf,qBAAqB1C,GAArB,CAAf;AACA,QAAM0D,YAAYD,SAASA,OAAO3D,EAAP,EAAW6D,OAAO3D,GAAP,CAAX,CAAT,GAAmCF,GAAG8D,YAAH,CAAgBD,OAAO3D,GAAP,CAAhB,CAArD;AACA,QAAM6D,SAASlD,qBAAqBX,GAArB,CAAf;AACA/E,SAAO,OAAO4I,MAAP,KAAkB,UAAzB;AACAA,SAAO/D,EAAP,EAAWC,KAAX,EAAkB4D,OAAO3D,GAAP,CAAlB;AACA,SAAO0D,SAAP;AACD,C,CAED;AACA;AACA;;AACA,OAAO,SAASI,aAAT,CAAuBhE,EAAvB,EAA2B+B,MAA3B,EAAmC;AACxC,QAAMkC,mBAAmB,EAAzB,CADwC,CAGxC;;AAEA,OAAK,MAAM/D,GAAX,IAAkB6B,MAAlB,EAA0B;AACxB,UAAMmC,aAAaL,OAAO3D,GAAP,CAAnB;AACA,UAAM6D,SAASlD,qBAAqBX,GAArB,CAAf;;AACA,QAAI6D,MAAJ,EAAY;AACV;AACA,UAAI,OAAOA,MAAP,KAAkB,QAAtB,EAAgC;AAC9BE,yBAAiBF,MAAjB,IAA2B,IAA3B;AACD,OAFD,MAEO;AAAE;AACP;AACA;AACA;AACAA,eAAO/D,EAAP,EAAW+B,OAAO7B,GAAP,CAAX,EAAwBgE,UAAxB;AACD;AACF;AACF,GAnBuC,CAqBxC;AAEA;AACA;AACA;AACA;AACA;;;AACA,QAAMC,QAAQnE,GAAGoE,KAAH,IAAYpE,GAAGoE,KAAH,CAASD,KAAnC;;AACA,MAAIA,KAAJ,EAAW;AACT,UAAME,eAAeC,OAAOC,MAAP,CAAc,EAAd,EAAkBJ,KAAlB,EAAyBpC,MAAzB,CAArB;;AAEA,SAAK,MAAM7B,GAAX,IAAkB+D,gBAAlB,EAAoC;AAClC;AACA,YAAMO,kBAAkB3C,+BAA+B3B,GAA/B,CAAxB,CAFkC,CAGlC;AACA;;AACAsE,sBAAgBxE,EAAhB,EAAoBqE,YAApB;AACD;AACF,GAvCuC,CAwCxC;;AACD,C,CAED;;AACA,OAAO,SAASP,YAAT,CAAsB9D,EAAtB,EAA0BE,GAA1B,EAA+B;AACpC,QAAMyD,SAASf,qBAAqB1C,GAArB,CAAf;AACA,SAAOyD,SAASA,OAAO3D,EAAP,EAAW6D,OAAO3D,GAAP,CAAX,CAAT,GAAmCF,GAAG8D,YAAH,CAAgBD,OAAO3D,GAAP,CAAhB,CAA1C;AACD,C,CAED;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASuE,aAAT,CAAuBzE,EAAvB,EAA2B0E,UAA3B,EAAuC;AAC5C;AACAA,eAAaA,cAActJ,qBAA3B,CAF4C,CAG5C;;AACA,QAAMuJ,gBAAgBxB,MAAMC,OAAN,CAAcsB,UAAd,IAA4BA,UAA5B,GAAyCJ,OAAOM,IAAP,CAAYF,UAAZ,CAA/D;AAEA,QAAMN,QAAQ,EAAd;;AACA,OAAK,MAAMlE,GAAX,IAAkByE,aAAlB,EAAiC;AAC/BP,UAAMlE,GAAN,IAAa4D,aAAa9D,EAAb,EAAiBE,GAAjB,CAAb;AACD;;AACD,SAAOkE,KAAP;AACD;AAED,OAAO,SAASS,oBAAT,CAA8B7E,EAA9B,EAAkC;AACvC;AACA,SAAOsE,OAAOC,MAAP,CAAc,EAAd,EAAkBnJ,qBAAlB,EAAyC,CAC9C;AACA;AACA;AACA;AACA;AAL8C,GAAzC,CAAP;AAOD,C,CAED;;AACA,OAAO,SAAS0J,eAAT,CAAyB9E,EAAzB,EAA6B;AAClCgE,gBAAchE,EAAd,EAAkB6E,qBAAqB7E,EAArB,CAAlB;AACD,C,CAED;;AACA,OAAO,SAAS+E,qBAAT,CAA+B/E,EAA/B,EAAmC;AACxC,QAAM+B,SAAS0C,cAAcrJ,qBAAd,CAAf;AACA,QAAM4J,WAAW,EAAjB;;AACA,OAAK,MAAM9E,GAAX,IAAkB9E,qBAAlB,EAAyC;AACvC,QAAI,CAAC2H,eAAehB,OAAO7B,GAAP,CAAf,EAA4B9E,sBAAsB8E,GAAtB,CAA5B,CAAL,EAA8D;AAC5D8E,eAAS9E,GAAT,IAAgB6B,OAAO7B,GAAP,CAAhB;AACD;AACF;;AACD,SAAO8E,QAAP;AACD","sourcesContent":["// Provides a unified API for getting and setting any WebGL parameter\n// Also knows default values of all parameters, enabling fast cache initialization\n// Provides base functionality for the state caching.\nimport GL from '../constants';\nimport {isWebGL2} from '../webgl-utils';\nimport assert from '../utils/assert';\n\n// DEFAULT SETTINGS - FOR FAST CACHE INITIALIZATION AND CONTEXT RESETS\n\nexport const GL_PARAMETER_DEFAULTS = {\n  [GL.BLEND]: false,\n  [GL.BLEND_COLOR]: new Float32Array([0, 0, 0, 0]),\n  [GL.BLEND_EQUATION_RGB]: GL.FUNC_ADD,\n  [GL.BLEND_EQUATION_ALPHA]: GL.FUNC_ADD,\n  [GL.BLEND_SRC_RGB]: GL.ONE,\n  [GL.BLEND_DST_RGB]: GL.ZERO,\n  [GL.BLEND_SRC_ALPHA]: GL.ONE,\n  [GL.BLEND_DST_ALPHA]: GL.ZERO,\n  [GL.COLOR_CLEAR_VALUE]: new Float32Array([0, 0, 0, 0]), // TBD\n  [GL.COLOR_WRITEMASK]: [true, true, true, true],\n  [GL.CULL_FACE]: false,\n  [GL.CULL_FACE_MODE]: GL.BACK,\n  [GL.DEPTH_TEST]: false,\n  [GL.DEPTH_CLEAR_VALUE]: 1,\n  [GL.DEPTH_FUNC]: GL.LESS,\n  [GL.DEPTH_RANGE]: new Float32Array([0, 1]), // TBD\n  [GL.DEPTH_WRITEMASK]: true,\n  [GL.DITHER]: true,\n  // FRAMEBUFFER_BINDING and DRAW_FRAMEBUFFER_BINDING(WebGL2) refer same state.\n  [GL.FRAMEBUFFER_BINDING]: null,\n  [GL.FRONT_FACE]: GL.CCW,\n  [GL.GENERATE_MIPMAP_HINT]: GL.DONT_CARE,\n  [GL.LINE_WIDTH]: 1,\n  [GL.POLYGON_OFFSET_FILL]: false,\n  [GL.POLYGON_OFFSET_FACTOR]: 0,\n  [GL.POLYGON_OFFSET_UNITS]: 0,\n  [GL.SAMPLE_COVERAGE_VALUE]: 1.0,\n  [GL.SAMPLE_COVERAGE_INVERT]: false,\n  [GL.SCISSOR_TEST]: false,\n  // Note: Dynamic value. If scissor test enabled we expect users to set correct scissor box\n  [GL.SCISSOR_BOX]: new Int32Array([0, 0, 1024, 1024]),\n  [GL.STENCIL_TEST]: false,\n  [GL.STENCIL_CLEAR_VALUE]: 0,\n  [GL.STENCIL_WRITEMASK]: 0xFFFFFFFF,\n  [GL.STENCIL_BACK_WRITEMASK]: 0xFFFFFFFF,\n  [GL.STENCIL_FUNC]: GL.ALWAYS,\n  [GL.STENCIL_REF]: 0,\n  [GL.STENCIL_VALUE_MASK]: 0xFFFFFFFF,\n  [GL.STENCIL_BACK_FUNC]: GL.ALWAYS,\n  [GL.STENCIL_BACK_REF]: 0,\n  [GL.STENCIL_BACK_VALUE_MASK]: 0xFFFFFFFF,\n  [GL.STENCIL_FAIL]: GL.KEEP,\n  [GL.STENCIL_PASS_DEPTH_FAIL]: GL.KEEP,\n  [GL.STENCIL_PASS_DEPTH_PASS]: GL.KEEP,\n  [GL.STENCIL_BACK_FAIL]: GL.KEEP,\n  [GL.STENCIL_BACK_PASS_DEPTH_FAIL]: GL.KEEP,\n  [GL.STENCIL_BACK_PASS_DEPTH_PASS]: GL.KEEP,\n  // Dynamic value: We use [0, 0, 1024, 1024] as default, but usually this is updated in each frame.\n  [GL.VIEWPORT]: new Int32Array([0, 0, 1024, 1024]),\n  // WEBGL1 PIXEL PACK/UNPACK MODES\n  [GL.PACK_ALIGNMENT]: 4,\n  [GL.UNPACK_ALIGNMENT]: 4,\n  [GL.UNPACK_FLIP_Y_WEBGL]: false,\n  [GL.UNPACK_PREMULTIPLY_ALPHA_WEBGL]: false,\n  [GL.UNPACK_COLORSPACE_CONVERSION_WEBGL]: GL.BROWSER_DEFAULT_WEBGL,\n\n  // WEBGL2 / EXTENSIONS\n  // gl1: 'OES_standard_derivatives'\n  [GL.FRAGMENT_SHADER_DERIVATIVE_HINT]: GL.DONT_CARE,\n  [GL.READ_FRAMEBUFFER_BINDING]: null,\n  [GL.RASTERIZER_DISCARD]: false,\n  [GL.PACK_ROW_LENGTH]: 0,\n  [GL.PACK_SKIP_PIXELS]: 0,\n  [GL.PACK_SKIP_ROWS]: 0,\n  [GL.UNPACK_ROW_LENGTH]: 0,\n  [GL.UNPACK_IMAGE_HEIGHT]: 0,\n  [GL.UNPACK_SKIP_PIXELS]: 0,\n  [GL.UNPACK_SKIP_ROWS]: 0,\n  [GL.UNPACK_SKIP_IMAGES]: 0\n};\n\n// SETTER TABLES - ENABLES SETTING ANY PARAMETER WITH A COMMON API\n\nconst enable = (gl, value, key) => value ? gl.enable(key) : gl.disable(key);\nconst hint = (gl, value, key) => gl.hint(key, value);\nconst pixelStorei = (gl, value, key) => gl.pixelStorei(key, value);\n\nconst drawFramebuffer = (gl, value) => {\n  const target = isWebGL2(gl) ? GL.DRAW_FRAMEBUFFER : GL.FRAMEBUFFER;\n  return gl.bindFramebuffer(target, value);\n};\nconst readFramebuffer = (gl, value) => {\n  return gl.bindFramebuffer(GL.READ_FRAMEBUFFER, value);\n};\n\n// Map from WebGL parameter names to corresponding WebGL setter functions\n// WegGL constants are read by parameter names, but set by function names\n// NOTE: When value type is a string, it will be handled by 'COMPOSITE_GL_PARAMETER_SETTERS'\nexport const GL_PARAMETER_SETTERS = {\n  [GL.BLEND]: enable,\n  [GL.BLEND_COLOR]: (gl, value) => gl.blendColor(...value),\n  [GL.BLEND_EQUATION_RGB]: 'blendEquation',\n  [GL.BLEND_EQUATION_ALPHA]: 'blendEquation',\n  [GL.BLEND_SRC_RGB]: 'blendFunc',\n  [GL.BLEND_DST_RGB]: 'blendFunc',\n  [GL.BLEND_SRC_ALPHA]: 'blendFunc',\n  [GL.BLEND_DST_ALPHA]: 'blendFunc',\n  [GL.COLOR_CLEAR_VALUE]: (gl, value) => gl.clearColor(...value),\n  [GL.COLOR_WRITEMASK]: (gl, value) => gl.colorMask(...value),\n  [GL.CULL_FACE]: enable,\n  [GL.CULL_FACE_MODE]: (gl, value) => gl.cullFace(value),\n  [GL.DEPTH_TEST]: enable,\n  [GL.DEPTH_CLEAR_VALUE]: (gl, value) => gl.clearDepth(value),\n  [GL.DEPTH_FUNC]: (gl, value) => gl.depthFunc(value),\n  [GL.DEPTH_RANGE]: (gl, value) => gl.depthRange(...value),\n  [GL.DEPTH_WRITEMASK]: (gl, value) => gl.depthMask(value),\n  [GL.DITHER]: enable,\n  [GL.FRAGMENT_SHADER_DERIVATIVE_HINT]: hint,\n  // NOTE: FRAMEBUFFER_BINDING and DRAW_FRAMEBUFFER_BINDING(WebGL2) refer same state.\n  [GL.FRAMEBUFFER_BINDING]: drawFramebuffer,\n  [GL.FRONT_FACE]: (gl, value) => gl.frontFace(value),\n  [GL.GENERATE_MIPMAP_HINT]: hint,\n  [GL.LINE_WIDTH]: (gl, value) => gl.lineWidth(value),\n  [GL.POLYGON_OFFSET_FILL]: enable,\n  [GL.POLYGON_OFFSET_FACTOR]: 'polygonOffset',\n  [GL.POLYGON_OFFSET_UNITS]: 'polygonOffset',\n  [GL.RASTERIZER_DISCARD]: enable,\n  [GL.SAMPLE_COVERAGE_VALUE]: 'sampleCoverage',\n  [GL.SAMPLE_COVERAGE_INVERT]: 'sampleCoverage',\n  [GL.SCISSOR_TEST]: enable,\n  [GL.SCISSOR_BOX]: (gl, value) => gl.scissor(...value),\n  [GL.STENCIL_TEST]: enable,\n  [GL.STENCIL_CLEAR_VALUE]: (gl, value) => gl.clearStencil(value),\n  [GL.STENCIL_WRITEMASK]: (gl, value) => gl.stencilMaskSeparate(GL.FRONT, value),\n  [GL.STENCIL_BACK_WRITEMASK]: (gl, value) => gl.stencilMaskSeparate(GL.BACK, value),\n  [GL.STENCIL_FUNC]: 'stencilFuncFront',\n  [GL.STENCIL_REF]: 'stencilFuncFront',\n  [GL.STENCIL_VALUE_MASK]: 'stencilFuncFront',\n  [GL.STENCIL_BACK_FUNC]: 'stencilFuncBack',\n  [GL.STENCIL_BACK_REF]: 'stencilFuncBack',\n  [GL.STENCIL_BACK_VALUE_MASK]: 'stencilFuncBack',\n  [GL.STENCIL_FAIL]: 'stencilOpFront',\n  [GL.STENCIL_PASS_DEPTH_FAIL]: 'stencilOpFront',\n  [GL.STENCIL_PASS_DEPTH_PASS]: 'stencilOpFront',\n  [GL.STENCIL_BACK_FAIL]: 'stencilOpBack',\n  [GL.STENCIL_BACK_PASS_DEPTH_FAIL]: 'stencilOpBack',\n  [GL.STENCIL_BACK_PASS_DEPTH_PASS]: 'stencilOpBack',\n  [GL.VIEWPORT]: (gl, value) => gl.viewport(...value),\n\n  // WEBGL1 PIXEL PACK/UNPACK MODES\n  [GL.PACK_ALIGNMENT]: pixelStorei,\n  [GL.UNPACK_ALIGNMENT]: pixelStorei,\n  [GL.UNPACK_FLIP_Y_WEBGL]: pixelStorei,\n  [GL.UNPACK_PREMULTIPLY_ALPHA_WEBGL]: pixelStorei,\n  [GL.UNPACK_COLORSPACE_CONVERSION_WEBGL]: pixelStorei,\n\n  // WEBGL2 PIXEL PACK/UNPACK MODES\n  // RASTERIZER_DISCARD ...\n  [GL.PACK_ROW_LENGTH]: pixelStorei,\n  [GL.PACK_SKIP_PIXELS]: pixelStorei,\n  [GL.PACK_SKIP_ROWS]: pixelStorei,\n  [GL.READ_FRAMEBUFFER_BINDING]: readFramebuffer,\n  [GL.UNPACK_ROW_LENGTH]: pixelStorei,\n  [GL.UNPACK_IMAGE_HEIGHT]: pixelStorei,\n  [GL.UNPACK_SKIP_PIXELS]: pixelStorei,\n  [GL.UNPACK_SKIP_ROWS]: pixelStorei,\n  [GL.UNPACK_SKIP_IMAGES]: pixelStorei\n};\n\n// COMPOSITE_WEBGL_PARAMETER_\nconst COMPOSITE_GL_PARAMETER_SETTERS = {\n  blendEquation: (gl, values) => gl.blendEquationSeparate(\n    values[GL.BLEND_EQUATION_RGB],\n    values[GL.BLEND_EQUATION_ALPHA]\n  ),\n  blendFunc: (gl, values) => gl.blendFuncSeparate(\n    values[GL.BLEND_SRC_RGB],\n    values[GL.BLEND_DST_RGB],\n    values[GL.BLEND_SRC_ALPHA],\n    values[GL.BLEND_DST_ALPHA]\n  ),\n  polygonOffset: (gl, values) => gl.polygonOffset(\n    values[GL.POLYGON_OFFSET_FACTOR],\n    values[GL.POLYGON_OFFSET_UNITS]\n  ),\n  sampleCoverage: (gl, values) => gl.sampleCoverage(\n    values[GL.SAMPLE_COVERAGE_VALUE],\n    values[GL.SAMPLE_COVERAGE_INVERT]\n  ),\n  stencilFuncFront: (gl, values) => gl.stencilFuncSeparate(GL.FRONT,\n    values[GL.STENCIL_FUNC],\n    values[GL.STENCIL_REF],\n    values[GL.STENCIL_VALUE_MASK]\n  ),\n  stencilFuncBack: (gl, values) => gl.stencilFuncSeparate(GL.BACK,\n    values[GL.STENCIL_BACK_FUNC],\n    values[GL.STENCIL_BACK_REF],\n    values[GL.STENCIL_BACK_VALUE_MASK]\n  ),\n  stencilOpFront: (gl, values) => gl.stencilOpSeparate(GL.FRONT,\n    values[GL.STENCIL_FAIL],\n    values[GL.STENCIL_PASS_DEPTH_FAIL],\n    values[GL.STENCIL_PASS_DEPTH_PASS]\n  ),\n  stencilOpBack: (gl, values) => gl.stencilOpSeparate(GL.BACK,\n    values[GL.STENCIL_BACK_FAIL],\n    values[GL.STENCIL_BACK_PASS_DEPTH_FAIL],\n    values[GL.STENCIL_BACK_PASS_DEPTH_PASS]\n  )\n};\n\n// GETTER TABLE - FOR READING OUT AN ENTIRE CONTEXT\n\nconst isEnabled = (gl, key) => gl.isEnabled(key);\n\n// Exceptions for any keys that cannot be queried by gl.getParameters\nexport const GL_PARAMETER_GETTERS = {\n  [GL.BLEND]: isEnabled,\n  [GL.CULL_FACE]: isEnabled,\n  [GL.DEPTH_TEST]: isEnabled,\n  [GL.DITHER]: isEnabled,\n  [GL.POLYGON_OFFSET_FILL]: isEnabled,\n  [GL.SAMPLE_ALPHA_TO_COVERAGE]: isEnabled,\n  [GL.SAMPLE_COVERAGE]: isEnabled,\n  [GL.SCISSOR_TEST]: isEnabled,\n  [GL.STENCIL_TEST]: isEnabled,\n\n  // WebGL 2\n  [GL.RASTERIZER_DISCARD]: isEnabled\n};\n\n// HELPER METHODS\n\nconst deepArrayEqual = (x, y) => {\n  if (x === y) {\n    return true;\n  }\n  const isArrayX = Array.isArray(x) || ArrayBuffer.isView(x);\n  const isArrayY = Array.isArray(y) || ArrayBuffer.isView(y);\n  if (isArrayX && isArrayY && x.length === y.length) {\n    for (let i = 0; i < x.length; ++i) {\n      if (x[i] !== y[i]) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return false;\n};\n\n// PUBLIC METHODS\n\n// Sets any single GL parameter regardless of function (gl.getParameter/gl.isEnabled...)\n// Returns the previous value\n// Note: limited to parameter values\nexport function setParameter(gl, key, value) {\n  const getter = GL_PARAMETER_GETTERS[key];\n  const prevValue = getter ? getter(gl, Number(key)) : gl.getParameter(Number(key));\n  const setter = GL_PARAMETER_SETTERS[key];\n  assert(typeof setter === 'function');\n  setter(gl, value, Number(key));\n  return prevValue;\n}\n\n// Sets any GL parameter regardless of function (gl.blendMode, ...)\n// Note: requires a `cache` object to be set on the context (gl.state.cache)\n// This object is used to fill in any missing values for composite setter functions\nexport function setParameters(gl, values) {\n  const compositeSetters = {};\n\n  // HANDLE PRIMITIVE SETTERS (and make note of any composite setters)\n\n  for (const key in values) {\n    const glConstant = Number(key);\n    const setter = GL_PARAMETER_SETTERS[key];\n    if (setter) {\n      // Composite setters should only be called once, so save them\n      if (typeof setter === 'string') {\n        compositeSetters[setter] = true;\n      } else { // if (gl[glConstant] !== undefined) {\n        // TODO - added above check since this is being called on WebGL2 values in WebGL1...\n        // TODO - deep equal on values? only call setter if value has changed?\n        // NOTE - the setter will automatically update this.state\n        setter(gl, values[key], glConstant);\n      }\n    }\n  }\n\n  // HANDLE COMPOSITE SETTERS\n\n  // NOTE: any non-provided values needed by composite setters are filled in from state cache\n  // The cache parameter is automatically retrieved from the context\n  // This depends on `trackContextState`, which is technically a \"circular\" dependency.\n  // But it is too inconvenient to always require a cache parameter here.\n  // This is the ONLY external dependency in this module/\n  const cache = gl.state && gl.state.cache;\n  if (cache) {\n    const mergedValues = Object.assign({}, cache, values);\n\n    for (const key in compositeSetters) {\n      // TODO - avoid calling composite setters if values have not changed.\n      const compositeSetter = COMPOSITE_GL_PARAMETER_SETTERS[key];\n      // Note - if `trackContextState` has been called,\n      // the setter will automatically update this.state.cache\n      compositeSetter(gl, mergedValues);\n    }\n  }\n  // Add a log for the else case?\n}\n\n// Queries any single GL parameter regardless of function (gl.getParameter/gl.isEnabled...)\nexport function getParameter(gl, key) {\n  const getter = GL_PARAMETER_GETTERS[key];\n  return getter ? getter(gl, Number(key)) : gl.getParameter(Number(key));\n}\n\n// Copies the state from a context (gl.getParameter should not be overriden)\n// Reads the entire WebGL state from a context\n// Caveat: This generates a huge amount of synchronous driver roundtrips and should be\n// considered a very slow operation, to be used only if/when a context already manipulated\n// by external code needs to be synchronized for the first time\n// @return {Object} - a newly created map, with values keyed by GL parameters\nexport function getParameters(gl, parameters) {\n  // default to querying all parameters\n  parameters = parameters || GL_PARAMETER_DEFAULTS;\n  // support both arrays of parameters and objects (keys represent parameters)\n  const parameterKeys = Array.isArray(parameters) ? parameters : Object.keys(parameters);\n\n  const state = {};\n  for (const key of parameterKeys) {\n    state[key] = getParameter(gl, key);\n  }\n  return state;\n}\n\nexport function getDefaultParameters(gl) {\n  // TODO - Query GL.VIEWPORT and GL.SCISSOR_BOX since these are dynamic\n  return Object.assign({}, GL_PARAMETER_DEFAULTS, {\n    // TODO: For viewport and scissor default values are set at the time of\n    // context creation based on canvas size, we can query them here but it will\n    // not match with what we have in GL_PARAMETER_DEFAULTS table, we should revisit.\n    // [GL.VIEWPORT]: gl.constructor.prototype.getParameter.call(gl, GL.VIEWPORT),\n    // [GL.SCISSOR_BOX]: gl.constructor.prototype.getParameter.call(gl, GL.SCISSOR_BOX)\n  });\n}\n\n// Reset all parameters to a pure context state\nexport function resetParameters(gl) {\n  setParameters(gl, getDefaultParameters(gl));\n}\n\n// Get all parameters that have been modified from a pure context state\nexport function getModifiedParameters(gl) {\n  const values = getParameters(GL_PARAMETER_DEFAULTS);\n  const modified = {};\n  for (const key in GL_PARAMETER_DEFAULTS) {\n    if (!deepArrayEqual(values[key], GL_PARAMETER_DEFAULTS[key])) {\n      modified[key] = values[key];\n    }\n  }\n  return modified;\n}\n"],"file":"set-parameters.js"}