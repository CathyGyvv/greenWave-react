{"version":3,"sources":["../../../src/webgl-utils/webgl-types.js"],"names":["global","isBrowser","headlessTypes","module","require","error","console","message","warn","WebGLRenderingContext","DummyType","WebGLProgram","WebGLShader","WebGLBuffer","WebGLFramebuffer","WebGLRenderbuffer","WebGLTexture","WebGLUniformLocation","WebGLActiveInfo","WebGLShaderPrecisionFormat","webGLTypesAvailable","getWebGL2RenderingContext","WebGL2RenderingContextNotSupported","WebGL2RenderingContext","getImage","ImageNotSupported","Image"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AACA;AACA,SAAQA,MAAR,QAAqB,kBAArB;AACA,OAAOC,SAAP,MAAsB,qBAAtB,C,CAEA;;AACA,OAAO,IAAIC,gBAAgB,IAApB;;AAEP,IAAI,CAACD,SAAL,EAAgB;AACd,MAAI;AACFC,oBAAgBC,OAAOC,OAAP,CAAe,SAAf,CAAhB;AACD,GAFD,CAEE,OAAOC,KAAP,EAAc;AACdC,YAAQD,KAAR,CAAe,GAAEA,MAAME,OAAQ,EAA/B;AACD;;AACDD,UAAQE,IAAR,CAAaN,iBAAiBA,cAAcO,qBAA5C;AACD;;AAED,MAAMC,SAAN,CAAgB;;aAaZR,iBAAiBF,M;mCAVnBS,qB;MAAAA,qB,sCAAwBC,S;+BACxBC,Y;MAAAA,Y,kCAAeD,S;8BACfE,W;MAAAA,W,iCAAcF,S;8BACdG,W;MAAAA,W,iCAAcH,S;mCACdI,gB;MAAAA,gB,sCAAmBJ,S;mCACnBK,iB;MAAAA,iB,sCAAoBL,S;+BACpBM,Y;MAAAA,Y,kCAAeN,S;mCACfO,oB;MAAAA,oB,sCAAuBP,S;kCACvBQ,e;MAAAA,e,qCAAkBR,S;mCAClBS,0B;MAAAA,0B,sCAA6BT,S;;AAG/B,OAAO,MAAMU,sBACXX,0BAA0BC,SAA1B,IACAC,iBAAiBD,SADjB,IAEAE,gBAAgBF,SAFhB,IAGAG,gBAAgBH,SAHhB,IAIAI,qBAAqBJ,SAJrB,IAKAK,sBAAsBL,SALtB,IAMAM,iBAAiBN,SANjB,IAOAO,yBAAyBP,SAPzB,IAQAQ,oBAAoBR,SARpB,IASAS,+BAA+BT,SAV1B,C,CAYP;AACA;AACA;;AACA,SAASW,yBAAT,GAAqC;AACnC,QAAMC,kCAAN,CAAyC;;AACzC,SAAOtB,OAAOuB,sBAAP,IAAiCD,kCAAxC;AACD,C,CAED;;;AACA,SAASE,QAAT,GAAoB;AAClB,QAAMC,iBAAN,CAAwB;;AACxB,SAAOzB,OAAO0B,KAAP,IAAgBD,iBAAvB;AACD;;AAED,MAAMF,yBAAyBF,2BAA/B;AACA,MAAMK,QAAQF,UAAd,C,CAEA;;AACA,SACEE,KADF,EAGEjB,qBAHF,EAIEE,YAJF,EAKEC,WALF,EAMEC,WANF,EAOEC,gBAPF,EAQEC,iBARF,EASEC,YATF,EAUEC,oBAVF,EAWEC,eAXF,EAYEC,0BAZF,EAcEI,sBAdF","sourcesContent":["// WEBGL BUILT-IN TYPES\n// 1) Exports all WebGL constants as {GL}\n// 2) Enables app to \"import\" WebGL types\n//    - Importing these types makes them known to eslint etc.\n//    - Provides dummy types for WebGL2 when not available to streamline\n//      library code.\n//    - Exports types from headless gl when running under Node.js\n\n/* eslint-disable quotes, no-console */\n/* global console */\nimport {global} from '../utils/globals';\nimport isBrowser from '../utils/is-browser';\n\n// Load headless gl dynamically, if available\nexport let headlessTypes = null;\n\nif (!isBrowser) {\n  try {\n    headlessTypes = module.require('gl/wrap');\n  } catch (error) {\n    console.error(`${error.message}`);\n  }\n  console.warn(headlessTypes && headlessTypes.WebGLRenderingContext);\n}\n\nclass DummyType {}\n\nconst {\n  WebGLRenderingContext = DummyType,\n  WebGLProgram = DummyType,\n  WebGLShader = DummyType,\n  WebGLBuffer = DummyType,\n  WebGLFramebuffer = DummyType,\n  WebGLRenderbuffer = DummyType,\n  WebGLTexture = DummyType,\n  WebGLUniformLocation = DummyType,\n  WebGLActiveInfo = DummyType,\n  WebGLShaderPrecisionFormat = DummyType\n} = headlessTypes || global;\n\nexport const webGLTypesAvailable =\n  WebGLRenderingContext !== DummyType &&\n  WebGLProgram !== DummyType &&\n  WebGLShader !== DummyType &&\n  WebGLBuffer !== DummyType &&\n  WebGLFramebuffer !== DummyType &&\n  WebGLRenderbuffer !== DummyType &&\n  WebGLTexture !== DummyType &&\n  WebGLUniformLocation !== DummyType &&\n  WebGLActiveInfo !== DummyType &&\n  WebGLShaderPrecisionFormat !== DummyType;\n\n// Ensures that WebGL2RenderingContext is defined in non-WebGL2 environments\n// so that apps can test their gl contexts with instanceof\n// E.g. if (gl instanceof WebGL2RenderingContext) { }\nfunction getWebGL2RenderingContext() {\n  class WebGL2RenderingContextNotSupported {}\n  return global.WebGL2RenderingContext || WebGL2RenderingContextNotSupported;\n}\n\n// Ensure that Image is defined under Node.js\nfunction getImage() {\n  class ImageNotSupported {}\n  return global.Image || ImageNotSupported;\n}\n\nconst WebGL2RenderingContext = getWebGL2RenderingContext();\nconst Image = getImage();\n\n// Export the standard WebGL types\nexport {\n  Image,\n\n  WebGLRenderingContext,\n  WebGLProgram,\n  WebGLShader,\n  WebGLBuffer,\n  WebGLFramebuffer,\n  WebGLRenderbuffer,\n  WebGLTexture,\n  WebGLUniformLocation,\n  WebGLActiveInfo,\n  WebGLShaderPrecisionFormat,\n\n  WebGL2RenderingContext\n};\n"],"file":"webgl-types.js"}