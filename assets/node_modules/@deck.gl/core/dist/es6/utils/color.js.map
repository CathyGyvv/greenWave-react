{"version":3,"sources":["../../../src/utils/color.js"],"names":["parseColor","color","target","index","Array","isArray","ArrayBuffer","isView","length","parseHexColor","value","parseInt","substring","Math","floor","setOpacity","opacity","applyOpacity"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA,SAASA,UAAT,CAAoBC,KAApB,EAA2BC,MAA3B,EAAmCC,QAAQ,CAA3C,EAA8C;AAC5C,MAAIC,MAAMC,OAAN,CAAcJ,KAAd,KAAwBK,YAAYC,MAAZ,CAAmBN,KAAnB,CAA5B,EAAuD;AACrD,QAAI,CAACC,MAAD,IAAWD,MAAMO,MAAN,KAAiB,CAAhC,EAAmC;AACjC,aAAOP,KAAP;AACD;;AAEDC,aAASA,UAAU,EAAnB;AACAA,WAAOC,QAAQ,CAAf,IAAoBF,MAAM,CAAN,CAApB;AACAC,WAAOC,QAAQ,CAAf,IAAoBF,MAAM,CAAN,CAApB;AACAC,WAAOC,QAAQ,CAAf,IAAoBF,MAAM,CAAN,CAApB;AACAC,WAAOC,QAAQ,CAAf,IAAoBF,MAAMO,MAAN,KAAiB,CAAjB,GAAqBP,MAAM,CAAN,CAArB,GAAgC,GAApD;AACA,WAAOC,MAAP;AACD;;AAED,MAAI,OAAOD,KAAP,KAAiB,QAArB,EAA+B;AAC7BC,aAASA,UAAU,EAAnB;AACAO,kBAAcR,KAAd,EAAqBC,MAArB,EAA6BC,KAA7B;AACA,WAAOD,MAAP;AACD;;AAED,SAAO,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,GAAV,CAAP;AACD,C,CAED;;;AACA,SAASO,aAAT,CAAuBR,KAAvB,EAA8BC,MAA9B,EAAsCC,KAAtC,EAA6C;AAC3C,MAAIF,MAAMO,MAAN,KAAiB,CAArB,EAAwB;AACtB,UAAME,QAAQC,SAASV,MAAMW,SAAN,CAAgB,CAAhB,CAAT,EAA6B,EAA7B,CAAd;AACAV,WAAOC,QAAQ,CAAf,IAAoBU,KAAKC,KAAL,CAAWJ,QAAQ,KAAnB,CAApB;AACAR,WAAOC,QAAQ,CAAf,IAAoBU,KAAKC,KAAL,CAAYJ,QAAQ,GAAT,GAAgB,GAA3B,CAApB;AACAR,WAAOC,QAAQ,CAAf,IAAoBO,QAAQ,GAA5B;AACAR,WAAOC,QAAQ,CAAf,IAAoB,GAApB;AACD,GAND,MAMO,IAAIF,MAAMO,MAAN,KAAiB,CAArB,EAAwB;AAC7B,UAAME,QAAQC,SAASV,MAAMW,SAAN,CAAgB,CAAhB,CAAT,EAA6B,EAA7B,CAAd;AACAV,WAAOC,QAAQ,CAAf,IAAoBU,KAAKC,KAAL,CAAWJ,QAAQ,QAAnB,CAApB;AACAR,WAAOC,QAAQ,CAAf,IAAoBU,KAAKC,KAAL,CAAYJ,QAAQ,KAAT,GAAkB,GAA7B,CAApB;AACAR,WAAOC,QAAQ,CAAf,IAAoBU,KAAKC,KAAL,CAAYJ,QAAQ,GAAT,GAAgB,GAA3B,CAApB;AACAR,WAAOC,QAAQ,CAAf,IAAoBO,QAAQ,GAA5B;AACD;;AACD,SAAOP,QAAQ,CAAf;AACD;;AAED,SAASY,UAAT,CAAoBd,KAApB,EAA2Be,UAAU,GAArC,EAA0C;AACxC,SAAO,CAACf,MAAM,CAAN,CAAD,EAAWA,MAAM,CAAN,CAAX,EAAqBA,MAAM,CAAN,CAArB,EAA+Be,OAA/B,CAAP;AACD;;AAED,SAASC,YAAT,CAAsBhB,KAAtB,EAA6Be,UAAU,GAAvC,EAA4C;AAC1C,SAAO,CAACf,MAAM,CAAN,CAAD,EAAWA,MAAM,CAAN,CAAX,EAAqBA,MAAM,CAAN,CAArB,EAA+Be,OAA/B,CAAP;AACD,C,CAED;AACA;;;AACA,eAAe;AAAChB,YAAD;AAAae,YAAb;AAAyBE;AAAzB,CAAf","sourcesContent":["// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n// Parse array or string color\nfunction parseColor(color, target, index = 0) {\n  if (Array.isArray(color) || ArrayBuffer.isView(color)) {\n    if (!target && color.length === 4) {\n      return color;\n    }\n\n    target = target || [];\n    target[index + 0] = color[0];\n    target[index + 1] = color[1];\n    target[index + 2] = color[2];\n    target[index + 3] = color.length === 4 ? color[4] : 255;\n    return target;\n  }\n\n  if (typeof color === 'string') {\n    target = target || [];\n    parseHexColor(color, target, index);\n    return target;\n  }\n\n  return [0, 0, 0, 255];\n}\n\n// Parse a hex color\nfunction parseHexColor(color, target, index) {\n  if (color.length === 7) {\n    const value = parseInt(color.substring(1), 16);\n    target[index + 0] = Math.floor(value / 65536);\n    target[index + 1] = Math.floor((value / 256) % 256);\n    target[index + 2] = value % 256;\n    target[index + 3] = 255;\n  } else if (color.length === 9) {\n    const value = parseInt(color.substring(1), 16);\n    target[index + 0] = Math.floor(value / 16777216);\n    target[index + 1] = Math.floor((value / 65536) % 256);\n    target[index + 2] = Math.floor((value / 256) % 256);\n    target[index + 3] = value % 256;\n  }\n  return index + 4;\n}\n\nfunction setOpacity(color, opacity = 127) {\n  return [color[0], color[1], color[2], opacity];\n}\n\nfunction applyOpacity(color, opacity = 127) {\n  return [color[0], color[1], color[2], opacity];\n}\n\n// Named exports have a small perf hit in webpack, normally OK\n// but for utils that will be called in tight inner loops, export as object\nexport default {parseColor, setOpacity, applyOpacity};\n"],"file":"color.js"}