{"version":3,"sources":["../../../src/deprecated/perspective-viewport.js"],"names":["Viewport","log","mat4_lookAt","mat4_perspective","DEGREES_TO_RADIANS","Math","PI","PerspectiveViewport","constructor","width","height","eye","lookAt","up","fovy","near","far","aspect","deprecated","fovyRadians","Number","isFinite","viewMatrix","projectionMatrix"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,OAAOA,QAAP,MAAqB,uBAArB;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AACA,OAAOC,gBAAP,MAA6B,qBAA7B;AAEA,MAAMC,qBAAqBC,KAAKC,EAAL,GAAU,GAArC;AAEA,eAAe,MAAMC,mBAAN,SAAkCP,QAAlC,CAA2C;AACxDQ,cAAY;AACV;AACAC,SAFU;AAEH;AACPC,UAHU;AAGF;AACR;AACAC,OALU;AAKL;AACLC,aAAS,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CANC;AAMU;AACpBC,SAAK,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAPK;AAOM;AAChB;AACAC,WAAO,EATG;AASC;AACXC,WAAO,CAVG;AAUA;AACVC,UAAM,GAXI;AAWC;AACX;AACAC,aAAS,IAbC,CAaI;;AAbJ,GAAZ,EAcG;AACDhB,QAAIiB,UAAJ,CAAe,qBAAf,EAAsC,iBAAtC;AAEA,UAAMC,cAAcL,OAAOV,kBAA3B;AACAa,aAASG,OAAOC,QAAP,CAAgBJ,MAAhB,IAA0BA,MAA1B,GAAmCR,QAAQC,MAApD;AACA,UAAM;AACJY,kBAAYpB,YAAY,EAAZ,EAAgBS,GAAhB,EAAqBC,MAArB,EAA6BC,EAA7B,CADR;AAEJU,wBAAkBpB,iBAAiB,EAAjB,EAAqBgB,WAArB,EAAkCF,MAAlC,EAA0CF,IAA1C,EAAgDC,GAAhD,CAFd;AAGJP,WAHI;AAIJC;AAJI,KAAN;AAMD;;AA1BuD","sourcesContent":["// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport Viewport from '../viewports/viewport';\nimport log from '../utils/log';\nimport mat4_lookAt from 'gl-mat4/lookAt';\nimport mat4_perspective from 'gl-mat4/perspective';\n\nconst DEGREES_TO_RADIANS = Math.PI / 180;\n\nexport default class PerspectiveViewport extends Viewport {\n  constructor({\n    // viewport arguments\n    width, // Width of viewport\n    height, // Height of viewport\n    // view matrix arguments\n    eye, // Defines eye position\n    lookAt = [0, 0, 0], // Which point is camera looking at, default origin\n    up = [0, 1, 0], // Defines up direction, default positive y axis\n    // projection matrix arguments\n    fovy = 75, // Field of view covered by camera\n    near = 1, // Distance of near clipping plane\n    far = 100, // Distance of far clipping plane\n    // automatically calculated\n    aspect = null // Aspect ratio (set to viewport widht/height)\n  }) {\n    log.deprecated('PerspectiveViewport', 'PerspectiveView')();\n\n    const fovyRadians = fovy * DEGREES_TO_RADIANS;\n    aspect = Number.isFinite(aspect) ? aspect : width / height;\n    super({\n      viewMatrix: mat4_lookAt([], eye, lookAt, up),\n      projectionMatrix: mat4_perspective([], fovyRadians, aspect, near, far),\n      width,\n      height\n    });\n  }\n}\n"],"file":"perspective-viewport.js"}