{"version":3,"sources":["../../../src/deprecated/perspective-viewport.js"],"names":["Viewport","log","mat4_lookAt","mat4_perspective","DEGREES_TO_RADIANS","Math","PI","PerspectiveViewport","width","height","eye","lookAt","up","fovy","near","far","aspect","deprecated","fovyRadians","Number","isFinite","viewMatrix","projectionMatrix"],"mappings":";;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,OAAOA,QAAP,MAAqB,uBAArB;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AACA,OAAOC,gBAAP,MAA6B,qBAA7B;AAEA,IAAMC,qBAAqBC,KAAKC,EAAL,GAAU,GAArC;;IAEqBC,mB;;;;;AACnB,qCAcG;AAAA,QAZDC,KAYC,QAZDA,KAYC;AAAA,QAXDC,MAWC,QAXDA,MAWC;AAAA,QATDC,GASC,QATDA,GASC;AAAA,2BARDC,MAQC;AAAA,QARDA,MAQC,4BARQ,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAQR;AAAA,uBAPDC,EAOC;AAAA,QAPDA,EAOC,wBAPI,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAOJ;AAAA,yBALDC,IAKC;AAAA,QALDA,IAKC,0BALM,EAKN;AAAA,yBAJDC,IAIC;AAAA,QAJDA,IAIC,0BAJM,CAIN;AAAA,wBAHDC,GAGC;AAAA,QAHDA,GAGC,yBAHK,GAGL;AAAA,2BADDC,MACC;AAAA,QADDA,MACC,4BADQ,IACR;;AAAA;;AACDf,QAAIgB,UAAJ,CAAe,qBAAf,EAAsC,iBAAtC;AAEA,QAAMC,cAAcL,OAAOT,kBAA3B;AACAY,aAASG,OAAOC,QAAP,CAAgBJ,MAAhB,IAA0BA,MAA1B,GAAmCR,QAAQC,MAApD;AAJC,qIAKK;AACJY,kBAAYnB,YAAY,EAAZ,EAAgBQ,GAAhB,EAAqBC,MAArB,EAA6BC,EAA7B,CADR;AAEJU,wBAAkBnB,iBAAiB,EAAjB,EAAqBe,WAArB,EAAkCF,MAAlC,EAA0CF,IAA1C,EAAgDC,GAAhD,CAFd;AAGJP,kBAHI;AAIJC;AAJI,KALL;AAWF;;;EA1B8CT,Q;;SAA5BO,mB","sourcesContent":["// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport Viewport from '../viewports/viewport';\nimport log from '../utils/log';\nimport mat4_lookAt from 'gl-mat4/lookAt';\nimport mat4_perspective from 'gl-mat4/perspective';\n\nconst DEGREES_TO_RADIANS = Math.PI / 180;\n\nexport default class PerspectiveViewport extends Viewport {\n  constructor({\n    // viewport arguments\n    width, // Width of viewport\n    height, // Height of viewport\n    // view matrix arguments\n    eye, // Defines eye position\n    lookAt = [0, 0, 0], // Which point is camera looking at, default origin\n    up = [0, 1, 0], // Defines up direction, default positive y axis\n    // projection matrix arguments\n    fovy = 75, // Field of view covered by camera\n    near = 1, // Distance of near clipping plane\n    far = 100, // Distance of far clipping plane\n    // automatically calculated\n    aspect = null // Aspect ratio (set to viewport widht/height)\n  }) {\n    log.deprecated('PerspectiveViewport', 'PerspectiveView')();\n\n    const fovyRadians = fovy * DEGREES_TO_RADIANS;\n    aspect = Number.isFinite(aspect) ? aspect : width / height;\n    super({\n      viewMatrix: mat4_lookAt([], eye, lookAt, up),\n      projectionMatrix: mat4_perspective([], fovyRadians, aspect, near, far),\n      width,\n      height\n    });\n  }\n}\n"],"file":"perspective-viewport.js"}